# Coturn TURN Server Configuration
# https://github.com/coturn/coturn

# Listener IP - use 0.0.0.0 for all interfaces
listening-ip=0.0.0.0

# TURN listener port for UDP and TCP
listening-port=3478

# TLS listening port (for TURNS)
tls-listening-port=5349

# Relay ports range (must match docker-compose port mapping)
min-port=49152
max-port=49200

# Use fingerprint in TURN messages
fingerprint

# Long-term credential mechanism
lt-cred-mech

# Static user credentials (change these in production!)
# Format: username:password
user=webrtc:webrtc123

# Realm for credentials
realm=webrtc.local

# Server name
server-name=coturn

# Logging
log-file=stdout
verbose

# Disable CLI
no-cli

# Disable old protocols
no-tlsv1
no-tlsv1_1

# For production, uncomment and configure SSL certificates:
# cert=/etc/coturn/certs/turn_server_cert.pem
# pkey=/etc/coturn/certs/turn_server_pkey.pem

# External IP (uncomment and set for production deployments behind NAT)
# external-ip=YOUR_PUBLIC_IP

# Quota settings
total-quota=100
bps-capacity=0
stale-nonce=600

# Deny loopback and private IPs for relay (security)
# Uncomment for production:
# denied-peer-ip=10.0.0.0-10.255.255.255
# denied-peer-ip=192.168.0.0-192.168.255.255
# denied-peer-ip=172.16.0.0-172.31.255.255
# denied-peer-ip=127.0.0.0-127.255.255.255
